{% extends "base.html" %}

{% block extra_css %}
    <link rel="stylesheet" href="/static/css/index.css">
{% endblock %}

{% block content %}
    <!-- Main Content -->
    <div class="space-y-20">
        <!-- Hero Section -->
        <section class="text-center space-y-8">
            <h1 class="text-5xl font-bold gradient-text hero-title">Welcome to MediPredict AI</h1>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                Your intelligent healthcare companion powered by advanced AI. Get accurate disease predictions, 
                personalized medical insights, and instant access to healthcare information.
            </p>
            <div class="flex justify-center space-x-6">
                {% if not session.get('user_id') %}
                    <a href="{{ url_for('auth') }}" class="px-8 py-3 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 transition-colors text-lg font-medium">
                        Get Started
                    </a>
                {% else %}
                    <a href="{{ url_for('chat') }}" class="px-8 py-3 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 transition-colors text-lg font-medium">
                        Start Chat
                    </a>
                {% endif %}
                <a href="#features" class="px-8 py-3 rounded-lg border-2 border-blue-600 text-blue-600 hover:bg-blue-50 transition-colors text-lg font-medium">
                    Learn More
                </a>
            </div>
        </section>

        <!-- Features Section -->
        <section class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold text-center mb-16">How It Works</h2>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <!-- Step 1 - Sign Up -->
                    <div class="bg-blue-50 p-8 rounded-2xl shadow-md">
                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                            <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-2">Create an Account</h3>
                        <p class="text-gray-600">Quick and secure registration to get started</p>
                    </div>

                    <!-- Step 2 - Enter Health Data -->
                    <div class="bg-blue-50 p-8 rounded-2xl shadow-md">
                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                            <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-2">Enter your health data</h3>
                        <p class="text-gray-600">Simple and secure input of your medical information</p>
                    </div>

                    <!-- Step 3 - AI Processing -->
                    <div class="bg-blue-50 p-8 rounded-2xl shadow-md">
                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                            <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37.996.608 2.296.07 2.572-1.065z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0zM3 20a6 6 0 0112 0v1H3v-1z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-2">AI processes the inputs</h3>
                        <p class="text-gray-600">Advanced machine learning algorithms analyze your data</p>
                    </div>

                    <!-- Step 4 - Get Results -->
                    <div class="bg-blue-50 p-8 rounded-2xl shadow-md">
                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                            <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-2">Get Results</h3>
                        <p class="text-gray-600">Receive personalized insights and recommendations</p>
                    </div>
                </div>
            </div>
        </section>
    </div>
{% endblock %}

{% block extra_js %}
    <script src="/static/js/index.js"></script>
    <script>
        // Mobile menu toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }

        // Start Chat function
        function startChat() {
            window.location.href = window.__SERVER_DATA__.isLoggedIn 
                ? window.__SERVER_DATA__.chatUrl 
                : window.__SERVER_DATA__.authUrl;
        }

        // Mouse move effect for feature cards and about section
        document.querySelectorAll('.feature-card, #about').forEach(element => {
            element.addEventListener('mousemove', (e) => {
                const rect = element.getBoundingClientRect();
                const x = ((e.clientX - rect.left) / element.clientWidth) * 100;
                const y = ((e.clientY - rect.top) / element.clientHeight) * 100;
                element.style.setProperty('--mouse-x', `${x}%`);
                element.style.setProperty('--mouse-y', `${y}%`);
            });
        });

        // Typing animation
        function typeWriter(element, text, i = 0) {
            if (i < text.length) {
                element.textContent += text.charAt(i);
                setTimeout(() => typeWriter(element, text, i + 1), 100);
            }
        }

        // Start animations when page loads
        document.addEventListener('DOMContentLoaded', () => {
            const heroTitle = document.getElementById('heroTitle');
            if (heroTitle) {
                heroTitle.textContent = ''; // Clear initial text
                typeWriter(heroTitle, 'Your AI-Powered Medical Assistant');
            }
            
            gsap.to('.hero-title', {
                opacity: 1,
                y: 0,
                duration: 1,
                ease: "bounce.out",
                delay: 0.5
            });
            
            gsap.to('.feature-card', {
                opacity: 1,
                x: 0,
                duration: 1,
                stagger: 0.3,
                delay: 1
            });
        });
    </script>
{% endblock %}